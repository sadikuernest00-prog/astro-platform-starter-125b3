---
/**
 * Mock data – replace with real DB/API in production.
 */
const listings = [
  {
    id: 1,
    title: "Lend 1.5 ETH for 30 days",
    type: "crypto",
    symbol: "ETH",
    amount: 1.5,
    rate: 5.2,
    duration: 30,
    collateral: 150,
    lender: "NodeMaster"
  },
  {
    id: 2,
    title: "0.35 BTC short term loan",
    type: "crypto",
    symbol: "BTC",
    amount: 0.35,
    rate: 4.8,
    duration: 21,
    collateral: 140,
    lender: "ChainBridge"
  },
  {
    id: 3,
    title: "Rent rare game NFT skin",
    type: "digital",
    symbol: "NFT",
    amount: 1,
    rate: 3.0,
    duration: 14,
    collateral: 200,
    lender: "PixelVault"
  },
  {
    id: 4,
    title: "High-end RTX 4090 rig rental",
    type: "physical",
    symbol: "PC",
    amount: 1,
    rate: 9.0,
    duration: 7,
    collateral: 250,
    lender: "RigHub",
    location: "Oslo, Norway"
  }
];

const cryptoListings   = listings.filter(l => l.type === "crypto");
const digitalListings  = listings.filter(l => l.type === "digital");
const physicalListings = listings.filter(l => l.type === "physical");
---

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>AmicBridge — Lend & Borrow Assets Safely</title>

    <!-- Pico for base styling -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@latest/css/pico.min.css"
    />

    <style>
      :root {
        --ab-bg: #050613;
        --ab-surface: #0c0f25;
        --ab-accent: #4c6fff;
        --ab-accent-soft: rgba(76,111,255,0.14);
        --ab-border: rgba(255,255,255,0.08);
        --ab-text-soft: #a4a8c4;
        --ab-radius-lg: 18px;
      }

      body {
        margin: 0;
        background: radial-gradient(circle at top, #191f4b 0, #050613 45%, #02020a 100%);
        color: #f6f7ff;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
          "Segoe UI", sans-serif;
      }

      .page-shell {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
      }

      /* NAVBAR */

      .nav-shell {
        position: sticky;
        top: 0;
        z-index: 10;
        backdrop-filter: blur(14px);
        background: linear-gradient(
          to bottom,
          rgba(5,6,19,0.95),
          rgba(5,6,19,0.85),
          transparent
        );
        border-bottom: 1px solid rgba(255,255,255,0.06);
      }

      .nav-inner {
        max-width: 1120px;
        margin: 0 auto;
        padding: 0.7rem 1.25rem;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 1.25rem;
      }

      .brand {
        display: inline-flex;
        align-items: center;
        gap: 0.55rem;
        text-decoration: none;
        color: inherit;
      }

      .brand-mark {
        width: 26px;
        height: 26px;
        border-radius: 999px;
        background: radial-gradient(circle at 30% 30%, #68b0ff, #4c6fff, #2d1b8a);
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-size: 0.8rem;
        color: #fff;
        box-shadow: 0 0 0 1px rgba(255,255,255,0.1), 0 6px 18px rgba(0,0,0,0.4);
      }

      .brand-text {
        font-weight: 600;
        letter-spacing: 0.04em;
        text-transform: uppercase;
        font-size: 0.9rem;
      }

      .nav-links {
        display: flex;
        align-items: center;
        gap: 1rem;
        font-size: 0.85rem;
      }

      .nav-links a {
        text-decoration: none;
        color: var(--ab-text-soft);
      }

      .nav-links a:hover {
        color: #fff;
      }

      .nav-cta {
        display: flex;
        align-items: center;
        gap: 0.6rem;
      }

      .btn-pill {
        border-radius: 999px;
        border: 1px solid rgba(255,255,255,0.12);
        background: rgba(9,12,32,0.9);
        padding: 0.32rem 0.9rem;
        font-size: 0.8rem;
        color: #f6f7ff;
      }

      .btn-pill.primary {
        background: linear-gradient(135deg, #4c6fff, #6d8aff);
        border-color: rgba(255,255,255,0.25);
        box-shadow: 0 10px 24px rgba(23,40,120,0.6);
      }

      .btn-pill.primary:hover {
        filter: brightness(1.04);
      }

      .btn-pill.secondary:hover {
        border-color: rgba(255,255,255,0.2);
      }

      /* HERO */

      .hero {
        max-width: 1120px;
        margin: 0 auto;
        padding: 2.5rem 1.25rem 2.2rem;
        display: grid;
        grid-template-columns: minmax(0, 2.1fr) minmax(0, 1.6fr);
        gap: 2.3rem;
        align-items: center;
      }

      .hero-main h1 {
        font-size: clamp(2.2rem, 3.2vw, 2.9rem);
        margin-bottom: 0.7rem;
      }

      .hero-highlight {
        display: inline-flex;
        align-items: center;
        gap: 0.4rem;
        padding: 0.18rem 0.6rem;
        border-radius: 999px;
        background: rgba(13,19,58,0.9);
        border: 1px solid rgba(143,174,255,0.35);
        font-size: 0.7rem;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: #b7c3ff;
        margin-bottom: 0.9rem;
      }

      .pulse-dot {
        width: 7px;
        height: 7px;
        border-radius: 999px;
        background: #4cffb1;
        box-shadow: 0 0 0 0 rgba(76,255,177,0.6);
        animation: pulse 1.8s infinite;
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
          box-shadow: 0 0 0 0 rgba(76,255,177,0.6);
        }
        70% {
          transform: scale(1.1);
          box-shadow: 0 0 0 13px rgba(76,255,177,0);
        }
        100% {
          transform: scale(1);
          box-shadow: 0 0 0 0 rgba(76,255,177,0);
        }
      }

      .hero-main p.lead {
        color: var(--ab-text-soft);
        max-width: 550px;
        margin-bottom: 1.4rem;
        font-size: 0.98rem;
      }

      .hero-actions {
        display: flex;
        flex-wrap: wrap;
        gap: 0.75rem;
        align-items: center;
        margin-bottom: 1rem;
      }

      .hero-actions a button {
        margin: 0;
      }

      .hero-subline {
        font-size: 0.85rem;
        color: var(--ab-text-soft);
      }

      .hero-metrics {
        display: flex;
        flex-wrap: wrap;
        gap: 0.8rem;
        margin-top: 1.4rem;
        font-size: 0.78rem;
        color: var(--ab-text-soft);
      }

      .hero-metric-pill {
        padding: 0.25rem 0.7rem;
        border-radius: 999px;
        border: 1px solid rgba(255,255,255,0.06);
        background: rgba(13,16,44,0.7);
      }

      .hero-aside {
        background: radial-gradient(circle at 0 0, rgba(118,144,255,0.32), transparent 55%),
                    radial-gradient(circle at 100% 0, rgba(60,223,192,0.16), transparent 40%);
        border-radius: var(--ab-radius-lg);
        padding: 1.4rem 1.5rem;
        border: 1px solid var(--ab-border);
        box-shadow: 0 18px 40px rgba(1,5,25,0.8);
      }

      .aside-heading {
        font-size: 0.9rem;
        margin-bottom: 0.7rem;
      }

      .aside-description {
        font-size: 0.8rem;
        color: var(--ab-text-soft);
        margin-bottom: 1rem;
      }

      .mini-grid {
        display: grid;
        grid-template-columns: repeat(2, minmax(0,1fr));
        gap: 0.75rem;
        margin-bottom: 1rem;
      }

      .mini-card {
        background: rgba(5,7,24,0.7);
        border-radius: 12px;
        padding: 0.7rem 0.7rem;
        border: 1px solid rgba(255,255,255,0.06);
        font-size: 0.78rem;
      }

      .mini-label {
        color: var(--ab-text-soft);
        font-size: 0.72rem;
        margin-bottom: 0.1rem;
      }

      .mini-value {
        font-weight: 500;
      }

      .aside-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 0.75rem;
        color: var(--ab-text-soft);
      }

      .confidence {
        display: inline-flex;
        align-items: center;
        gap: 0.25rem;
        padding: 0.15rem 0.6rem;
        border-radius: 999px;
        background: rgba(18,167,113,0.18);
        color: #b3ffe0;
        border: 1px solid rgba(36,194,143,0.55);
      }

      main {
        max-width: 1120px;
        margin: 0 auto;
        padding: 0 1.25rem 2.6rem;
        flex: 1;
      }

      .section-block {
        margin-top: 2.5rem;
      }

      .section-header {
        display: flex;
        justify-content: space-between;
        align-items: baseline;
        gap: 1rem;
        margin-bottom: 0.3rem;
      }

      .section-header h2 {
        margin: 0;
        font-size: 1.1rem;
      }

      .section-sub {
        font-size: 0.84rem;
        color: var(--ab-text-soft);
        margin-bottom: 1.1rem;
      }

      .pill-tag {
        display: inline-flex;
        align-items: center;
        padding: 0.18rem 0.65rem;
        border-radius: 999px;
        border: 1px solid rgba(255,255,255,0.12);
        background: rgba(11,13,34,0.85);
        font-size: 0.74rem;
        color: var(--ab-text-soft);
      }

      /* LENDER SECTION */

      .lender-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        gap: 1.2rem;
        margin-bottom: 1.4rem;
      }

      .action-card {
        background: rgba(9,12,32,0.96);
        border-radius: 14px;
        padding: 1rem 1rem;
        border: 1px solid rgba(255,255,255,0.08);
        box-shadow: 0 10px 24px rgba(0,0,0,0.55);
        transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
      }

      .action-card:hover {
        transform: translateY(-2px);
        border-color: rgba(98,132,255,0.9);
        box-shadow: 0 16px 32px rgba(7,8,40,0.9);
      }

      .action-card h3 {
        font-size: 0.98rem;
        margin-bottom: 0.35rem;
      }

      .action-card p {
        font-size: 0.84rem;
        color: var(--ab-text-soft);
        margin-bottom: 0.8rem;
      }

      .action-card button {
        margin: 0;
        border-radius: 999px;
        font-size: 0.8rem;
      }

      .muted {
        color: var(--ab-text-soft);
        font-size: 0.8rem;
      }

      /* BORROW SECTION */

      .search-row {
        display: flex;
        flex-wrap: wrap;
        gap: 0.7rem;
        margin-bottom: 1rem;
        align-items: center;
      }

      .search-row input[type="search"] {
        min-width: 220px;
        flex: 1;
        background: rgba(9,12,32,0.96);
        border-radius: 999px;
        border: 1px solid rgba(255,255,255,0.12);
        padding-inline: 0.9rem;
        font-size: 0.84rem;
      }

      .filter-chips {
        display: flex;
        flex-wrap: wrap;
        gap: 0.4rem;
      }

      .filter-chip {
        padding: 0.2rem 0.7rem;
        border-radius: 999px;
        border: 1px solid rgba(255,255,255,0.12);
        background: rgba(11,13,34,0.9);
        font-size: 0.76rem;
        color: var(--ab-text-soft);
      }

      .listing-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
        gap: 1.2rem;
        margin-bottom: 2rem;
      }

      .card {
        background: rgba(9,12,32,0.96);
        border-radius: 14px;
        padding: 1rem 1rem 0.9rem;
        border: 1px solid rgba(255,255,255,0.06);
        box-shadow: 0 10px 26px rgba(0,0,0,0.55);
        transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
      }

      .card:hover {
        transform: translateY(-2px);
        border-color: rgba(98,132,255,0.9);
        box-shadow: 0 16px 32px rgba(7,8,40,0.9);
      }

      .card-title {
        font-size: 0.98rem;
        margin-bottom: 0.28rem;
      }

      .card-asset {
        font-size: 0.8rem;
        color: var(--ab-text-soft);
        margin-bottom: 0.5rem;
      }

      .card-row {
        display: flex;
        justify-content: space-between;
        font-size: 0.8rem;
        margin-bottom: 0.25rem;
      }

      .card-row span:first-child {
        color: var(--ab-text-soft);
      }

      .card-footer {
        margin-top: 0.6rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 0.78rem;
        color: var(--ab-text-soft);
      }

      .card-footer button {
        margin: 0;
        border-radius: 999px;
        font-size: 0.78rem;
      }

      .how-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 1.1rem;
        margin-bottom: 2.2rem;
      }

      .hiw-card {
        background: rgba(9,12,32,0.95);
        border-radius: 14px;
        padding: 1rem 1rem;
        border: 1px solid rgba(255,255,255,0.05);
        box-shadow: 0 10px 24px rgba(0,0,0,0.55);
        font-size: 0.86rem;
      }

      .hiw-title {
        font-size: 0.9rem;
        margin-bottom: 0.3rem;
      }

      .hiw-step {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 20px;
        height: 20px;
        border-radius: 999px;
        background: rgba(155,174,255,0.18);
        border: 1px solid rgba(163,183,255,0.9);
        font-size: 0.78rem;
        margin-right: 0.4rem;
      }

      .trust-pills {
        display: flex;
        flex-wrap: wrap;
        gap: 0.4rem;
        margin-top: 0.6rem;
        font-size: 0.78rem;
      }

      .trust-pill {
        padding: 0.2rem 0.7rem;
        border-radius: 999px;
        border: 1px solid rgba(255,255,255,0.08);
        background: rgba(7,10,30,0.9);
        color: var(--ab-text-soft);
      }

      footer.page-footer {
        border-top: 1px solid rgba(255,255,255,0.06);
        margin-top: auto;
        padding: 1.4rem 1.25rem 1.8rem;
        font-size: 0.78rem;
        color: var(--ab-text-soft);
        text-align: center;
      }

      @media (max-width: 768px) {
        .hero {
          grid-template-columns: minmax(0,1fr);
          gap: 1.7rem;
          padding-top: 1.8rem;
        }

        .hero-aside {
          order: -1;
        }

        .nav-links {
          display: none;
        }
      }
    </style>
  </head>

  <body>
    <div class="page-shell">
      <!-- NAVBAR -->
      <div class="nav-shell">
        <nav class="nav-inner">
          <a class="brand" href="/">
            <span class="brand-mark">A</span>
            <span class="brand-text">AmicBridge</span>
          </a>
          <div class="nav-links">
            <a href="#lend-section">Start lending</a>
            <a href="#borrow-section">Find assets to borrow</a>
            <a href="/requests">My requests</a>
          </div>
          <div class="nav-cta">
            <a href="/login">
              <button class="btn-pill secondary" type="button">Sign in</button>
            </a>
            <a href="/register">
              <button class="btn-pill primary" type="button">Get started</button>
            </a>
          </div>
        </nav>
      </div>

      <!-- HERO -->
      <section class="hero">
        <div class="hero-main">
          <div class="hero-highlight">
            <span class="pulse-dot"></span>
            Early access · Asset lending hub
          </div>
          <h1>Earn from your assets. Borrow with clear rules.</h1>
          <p class="lead">
            AmicBridge lets people lend or rent out crypto, digital items, and real-world gear.
            Borrowers can quickly find offers and send requests under transparent, over-collateralized terms.
          </p>

          <div class="hero-actions">
            <a href="#lend-section">
              <button class="btn-pill primary" type="button">Start lending</button>
            </a>
            <a href="#borrow-section">
              <button class="btn-pill secondary" type="button">Find assets to borrow</button>
            </a>
            <a href="/requests">
              <button class="btn-pill secondary" type="button">View my requests</button>
            </a>
          </div>

          <div class="hero-subline">
            One place to <strong>list assets</strong>, <strong>receive borrow requests</strong>,
            and <strong>find offers</strong> that match exactly what you need.
          </div>

          <div class="hero-metrics">
            <div class="hero-metric-pill">Crypto · Digital · Physical</div>
            <div class="hero-metric-pill">Over-collateralized loan design</div>
            <div class="hero-metric-pill">Escrow & reputation (roadmap)</div>
          </div>
        </div>

        <aside class="hero-aside">
          <div class="aside-heading">Marketplace snapshot (demo)</div>
          <div class="aside-description">
            These numbers come from mock data while you’re building.
            Later this box can show live stats from your database or smart contracts.
          </div>
          <div class="mini-grid">
            <div class="mini-card">
              <div class="mini-label">Crypto offers</div>
              <div class="mini-value">{cryptoListings.length} active</div>
            </div>
            <div class="mini-card">
              <div class="mini-label">Digital items</div>
              <div class="mini-value">{digitalListings.length} listed</div>
            </div>
            <div class="mini-card">
              <div class="mini-label">Physical gear</div>
              <div class="mini-value">{physicalListings.length} available</div>
            </div>
            <div class="mini-card">
              <div class="mini-label">Target collateral</div>
              <div class="mini-value">150%+</div>
            </div>
          </div>
          <div class="aside-footer">
            <div class="confidence">
              <span>●</span>
              <span>Designed for safe peer-to-peer lending</span>
            </div>
          </div>
        </aside>
      </section>

      <main>
        <!-- LENDER SECTION -->
        <section id="lend-section" class="section-block">
          <div class="section-header">
            <h2>Start lending your assets</h2>
            <span class="pill-tag">Create listings · Receive requests</span>
          </div>
          <p class="section-sub">
            As a lender, you can register which assets you want to lend and on what terms.
            Borrowers send you requests, and you decide who to accept.
          </p>

          <div class="lender-grid">
            <article class="action-card">
              <h3>List a new asset to lend</h3>
              <p>
                Create a lending offer for your crypto, digital items, or physical gear. Set the
                interest, duration, and minimum collateral you require.
              </p>
              <a href="/lend">
                <button class="primary" type="button">Create lending offer</button>
              </a>
            </article>

            <article class="action-card">
              <h3>Review borrow requests</h3>
              <p>
                See who wants to borrow your assets, read their messages, and accept or reject
                requests based on their reputation and terms.
              </p>
              <a href="/requests">
                <button class="secondary outline" type="button">Go to my requests</button>
              </a>
            </article>
          </div>

          <p class="muted">
            Tip: In your backend, connect <code>/lend</code> to a “create listing” form,
            and <code>/requests</code> to the page that shows incoming loan requests
            for your existing listings.
          </p>
        </section>

        <!-- BORROW SECTION -->
        <section id="borrow-section" class="section-block">
          <div class="section-header">
            <h2>Find assets to borrow</h2>
            <span class="pill-tag">Search offers · Send requests</span>
          </div>
          <p class="section-sub">
            Use filters to explore what lenders are offering. Once you find a match, open
            the listing, read the terms, and send a borrow request.
          </p>

          <div class="search-row">
            <input type="search" placeholder="Search by asset, symbol, lender..." />
            <div class="filter-chips">
              <span class="filter-chip">Crypto</span>
              <span class="filter-chip">Digital items</span>
              <span class="filter-chip">Physical gear</span>
            </div>
          </div>

          {listings.length === 0 && (
            <p class="muted">No listings yet. When lenders create offers, they’ll appear here.</p>
          )}

          {listings.length > 0 && (
            <div class="listing-grid">
              {listings.map((l) => (
                <article class="card">
                  <h3 class="card-title">{l.title}</h3>
                  <div class="card-asset">
                    {l.type === "crypto" && "Crypto · "}
                    {l.type === "digital" && "Digital asset · "}
                    {l.type === "physical" && "Physical asset · "}
                    {l.symbol && `${l.symbol} · `}Duration: {l.duration} days
                    {l.location && ` · ${l.location}`}
                  </div>
                  <div class="card-row">
                    <span>Amount</span>
                    <span>{l.amount}</span>
                  </div>
                  <div class="card-row">
                    <span>Interest / rate</span>
                    <span>{l.rate}%</span>
                  </div>
                  <div class="card-row">
                    <span>Min collateral / deposit</span>
                    <span>{l.collateral}%</span>
                  </div>
                  <div class="card-footer">
                    <span>From: <strong>{l.lender}</strong></span>
                    <a href={`/listing/${l.id}`}>
                      <button class="secondary outline" type="button">
                        View & request
                      </button>
                    </a>
                  </div>
                </article>
              ))}
            </div>
          )}
        </section>

        <!-- HOW IT WORKS -->
        <section class="section-block">
          <div class="section-header">
            <h2>How AmicBridge works</h2>
          </div>
          <div class="how-grid">
            <article class="hiw-card">
              <h3 class="hiw-title">
                <span class="hiw-step">1</span>
                Lenders list, borrowers explore
              </h3>
              <p class="muted">
                Lenders register which assets they want to lend and under what rules. Borrowers
                browse offers and filter by type, rate, duration, and location.
              </p>
            </article>
            <article class="hiw-card">
              <h3 class="hiw-title">
                <span class="hiw-step">2</span>
                Requests & approvals
              </h3>
              <p class="muted">
                Borrowers send requests directly from each listing. Lenders review messages
                and decide who to approve based on trust and terms.
              </p>
            </article>
            <article class="hiw-card">
              <h3 class="hiw-title">
                <span class="hiw-step">3</span>
                Escrow, collateral, completion
              </h3>
              <p class="muted">
                Once your backend and smart contracts are live, collateral or deposits can be
                held in escrow. When loans are repaid or assets returned, everything settles
                according to the agreed rules.
              </p>
            </article>
          </div>
        </section>

        <!-- TRUST SECTION -->
        <section class="section-block">
          <div class="section-header">
            <h2>Built for safety, not surprise</h2>
          </div>
          <p class="section-sub">
            The goal for AmicBridge is to become the safest place on the internet to lend and
            borrow between people — for both crypto and real-world assets.
          </p>
          <div class="trust-pills">
            <span class="trust-pill">Transparent interest & collateral terms</span>
            <span class="trust-pill">Reputation & rating system (roadmap)</span>
            <span class="trust-pill">Escrow integrations for crypto & fiat</span>
            <span class="trust-pill">Designed for global asset lending</span>
          </div>
        </section>
      </main>

      <footer class="page-footer">
        AmicBridge — unified asset lending & rental marketplace. This interface uses demo data only
        and is not financial advice or a live protocol.
      </footer>
    </div>
  </body>
</html>
